\documentclass[12pt,fleqn]{article}\usepackage{../common}
\begin{document}

\begin{minted}[fontsize=\footnotesize]{python}
import pandas as pd, mineprep, pickle
from sklearn.tree import DecisionTreeRegressor
df = pd.read_csv("./data/celeb_astro_mbti.csv",sep=';')
clf = pickle.load(open('./data/forest.pkl', 'rb'))
\end{minted}

\begin{minted}[fontsize=\footnotesize]{python}
tree = clf
left      = tree.tree_.children_left
right     = tree.tree_.children_right
threshold = tree.tree_.threshold
features  = [df.columns[i] for i in tree.tree_.feature]

print left
print right
print threshold
print len(left), len(right), len(threshold)
\end{minted}

\begin{verbatim}
[ 1  2  3  4 -1 -1  7 -1 -1 10 11 -1 -1 14 -1 -1 17 18 19 -1 -1 22 -1 -1 -1]
[16  9  6  5 -1 -1  8 -1 -1 13 12 -1 -1 15 -1 -1 24 21 20 -1 -1 23 -1 -1 -1]
[  0.50000012   0.50000012   0.50000012   0.50000012  -2.          -2.
   0.50000012  -2.          -2.           0.50000012   0.50000012  -2.          -2.
   0.50000012  -2.          -2.           0.50000012   0.50000012
   0.50000012  -2.          -2.          42.5         -2.          -2.          -2.        ]
25 25 25
\end{verbatim}
\end{document}
