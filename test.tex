\documentclass[12pt,fleqn]{article}\usepackage{../common}
\begin{document}


\begin{minted}[fontsize=\footnotesize]{python}
%load_ext autoreload
%autoreload 2
import pandas as pd, celebpred1
clfs = celebpred1.test()
df = pd.read_csv("./data/celeb_astro_mbti.csv",sep=';')
\end{minted}

\begin{verbatim}
The autoreload extension is already loaded. To reload it, use:
  %reload_ext autoreload
Si AUC : 0.571429
Ti AUC : 0.555556
Ne AUC : 0.600000
Fe AUC : 0.625000
Te AUC : 0.500000
Ni AUC : 0.285714
Se AUC : 0.875000
Fi AUC : 0.785714
Avg AUC 0.599801587302
\end{verbatim}


\begin{minted}[fontsize=\footnotesize]{python}
import pandas as pd, mineprep
df_t = pd.DataFrame(index=[0], columns=['mbti', 'name', 'occup', 'bday'])
df_t.loc[0,'mbti'] = 'xxx'
#df_t.loc[0,'bday'] = '24/04/1973'
df_t.loc[0,'bday'] = '22/02/1949'
df2_t = mineprep.astro_enrich(df_t)
for col in df.columns: 
   if col not in df2_t.columns: df2_t[col] = np.nan
df2_t = df2_t.drop(celebpred1.cols,axis=1)
XX = df2_t.fillna(0)

for clf in clfs: 
    res = clfs[clf].predict_proba(XX)[0]
    #res = clfs[clf].predict(XX)
    print clf, res
\end{minted}

\begin{verbatim}
Ni [ 0.75581429  0.24418571]
Ne [ 0.92766518  0.07233482]
Si [ 0.8973319  0.1026681]
Fe [ 0.8427678  0.1572322]
Ti [ 0.74015873  0.25984127]
Fi [ 0.81601658  0.18398342]
Te [ 0.80774148  0.19225852]
Se [ 0.56258159  0.43741841]
\end{verbatim}


\end{document}
